{% extends 'shoes/base.html' %}

{% block title %}Acquisition Complete - Elite Kicks{% endblock %}

{% block content %}
<style>
    :root {
        --neon-blue: #00d4ff;
        --neon-green: #00ff7f;
        --glass-bg: rgba(255, 255, 255, 0.03);
    }

    .order-success-card {
        background: var(--glass-bg);
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 30px;
        overflow: hidden;
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
    }

    .status-header {
        background: linear-gradient(180deg, rgba(0, 212, 255, 0.1) 0%, transparent 100%);
        padding: 50px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .order-id-badge {
        background: var(--neon-blue);
        color: #000;
        font-family: 'Courier New', Courier, monospace;
        font-weight: 900;
        padding: 12px 25px;
        border-radius: 12px;
        display: inline-block;
        box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        letter-spacing: 2px;
    }

    .bg-white-5 { background: rgba(255, 255, 255, 0.05); }

    .btn-grab {
        background: var(--neon-blue);
        color: #000;
        font-weight: 800;
        border-radius: 50px;
        border: none;
        transition: 0.4s;
    }

    .btn-grab:hover {
        background: #fff;
        box-shadow: 0 0 30px var(--neon-blue);
        transform: scale(1.05);
    }

    /* Floating Animation for the check icon */
    .check-icon-animate {
        font-size: 6rem;
        color: var(--neon-blue);
        filter: drop-shadow(0 0 15px var(--neon-blue));
    }

    .item-row { border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
    .item-row:hover { background: rgba(0, 212, 255, 0.05); }
</style>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="order-success-card animate__animated animate__fadeInUp">
                <div class="status-header text-center">
                    <div class="mb-3">
                        <i class="fas fa-check-circle check-icon-animate animate__animated animate__bounceIn"></i>
                    </div>
                    <h1 class="text-white fw-900 mb-2 tracking-widest">ACQUISITION COMPLETE</h1>
                    <p class="text-info opacity-75 mb-4">LOGS UPDATED. GEAR ALLOCATED TO YOUR COORDINATES.</p>
                    <div class="order-id-badge animate__animated animate__pulse animate__infinite">
                        #{{ order.id }}
                    </div>
                </div>

                <div class="card-body p-4 p-md-5">
                    <div class="alert border-0 bg-white-5 text-light d-flex align-items-center mb-5 rounded-4 p-4 shadow-inner">
                        <i class="fas fa-satellite-dish fa-2x text-info me-4 animate__animated animate__flash animate__infinite"></i>
                        <div>
                            <small class="text-info d-block fw-bold opacity-75">DATA PACKET DISPATCHED TO:</small>
                            <strong class="fs-5">{{ order.email }}</strong>
                        </div>
                    </div>

                    <div class="row g-4">
                        <div class="col-md-6">
                            <h6 class="text-info mb-3 small fw-bold"> <i class="fas fa-crosshairs me-2"></i>DROP_ZONE.LOC</h6>
                            <div class="p-4 rounded-4 bg-white-5 border border-secondary">
                                <h5 class="text-white mb-2 fw-bold">{{ order.full_name }}</h5>
                                <p class="text-white-50 small mb-3">
                                    {{ order.address }}<br>
                                    {{ order.city }}, {{ order.zip_code }}
                                </p>
                                <div class="text-info small fw-bold"><i class="fas fa-phone-alt me-2"></i>{{ order.phone }}</div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <h6 class="text-info mb-3 small fw-bold"><i class="fas fa-microchip me-2"></i>SYSTEM_STATUS</h6>
                            <div class="p-4 rounded-4 bg-white-5 border border-secondary h-100">
                                <div class="d-flex justify-content-between mb-3 align-items-center">
                                    <span class="text-white-50 small">PAYMENT_HEX:</span>
                                    <span class="badge bg-info text-dark rounded-pill px-3">{{ order.payment_method|upper }}</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="text-white-50 small">MISSION_PHASE:</span>
                                    <span class="badge bg-success text-dark rounded-pill px-3">CONFIRMED</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h6 class="text-info mt-5 mb-3 small fw-bold"><i class="fas fa-list-ul me-2"></i>CARGO_MANIFEST</h6>
                    <div class="table-responsive">
                        <table class="table table-dark table-borderless align-middle">
                            <thead class="text-info small border-bottom border-secondary">
                                <tr>
                                    <th>SPECIMEN</th>
                                    <th>DESCRIPTION</th>
                                    <th class="text-center">UNITS</th>
                                    <th class="text-end">VALUE</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in order.items.all %}
                                <tr class="item-row">
                                    <td style="width: 100px;">
                                        <img src="{{ item.shoe.image.url }}" class="rounded-3 img-thumbnail bg-dark border-secondary p-1" width="70">
                                    </td>
                                    <td>
                                        <div class="text-white fw-bold">{{ item.shoe.name }}</div>
                                        <small class="text-info">SIZE_{{ item.size.name }} | {{ item.color.name|upper }}</small>
                                    </td>
                                    <td class="text-center fw-bold text-white">x{{ item.quantity }}</td>
                                    <td class="text-end text-info fw-bold">${{ item.price }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                    <div class="d-flex flex-wrap gap-3 justify-content-center mt-5">
                        <a href="{% url 'shop' %}" class="btn btn-grab px-5 py-3">
                            <i class="fas fa-shopping-cart me-2"></i>RETURN TO ARMORY
                        </a>
                        <a href="{% url 'order_history' %}" class="btn btn-outline-info rounded-pill px-5 py-3 fw-bold">
                            <i class="fas fa-terminal me-2"></i>ACCESS LOGS
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}