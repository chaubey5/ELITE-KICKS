{% extends 'shoes/base.html' %}
{% block content %}

<div class="product-container">
    <div class="product-grid">
        
        <div class="image-section">
            <div class="main-card-glass">
                <div class="brand-tag">{{ shoe.brand.name|upper }}</div>
                <div class="hero-img-container">
                    {% if shoe.image %}
                        <img src="{{ shoe.image.url }}" alt="{{ shoe.name }}" class="shoe-img-hero">
                    {% else %}
                        <div class="text-muted">No Image Available</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="info-section">
            <div class="info-content-glass">
                <h1 class="shoe-name-bold">{{ shoe.name|upper }}</h1>
                <div class="price-tag-large"><span class="currency">$</span>{{ shoe.price }}</div>

                <hr class="divider">

                <form action="{% url 'add_to_cart' shoe.id %}" method="POST" id="vaultForm">
                    {% csrf_token %}
                    
                    <div class="size-select-block">
                        <h5 class="selection-label">SELECT <span class="neon-blue">UK SIZE</span></h5>
                        <div class="size-options-grid">
                            <label class="size-pill">
                                <input type="radio" name="size" value="7" required>
                                <div class="pill-design"><span class="size-val-bold">7</span></div>
                            </label>
                            <label class="size-pill">
                                <input type="radio" name="size" value="8">
                                <div class="pill-design"><span class="size-val-bold">8</span></div>
                            </label>
                            <label class="size-pill">
                                <input type="radio" name="size" value="9" checked>
                                <div class="pill-design"><span class="size-val-bold">9</span></div>
                            </label>
                            <label class="size-pill">
                                <input type="radio" name="size" value="10">
                                <div class="pill-design"><span class="size-val-bold">10</span></div>
                            </label>
                            <label class="size-pill">
                                <input type="radio" name="size" value="11">
                                <div class="pill-design"><span class="size-val-bold">11</span></div>
                            </label>
                        </div>
                    </div>

                    <div class="qty-section mt-30">
                        <h5 class="selection-label">QUANTITY</h5>
                        <div class="qty-input-box">
                            <button type="button" class="qty-control" onclick="changeQty(-1)">-</button>
                            <input type="number" name="quantity" id="shoeQty" value="1" min="1" readonly>
                            <button type="button" class="qty-control" onclick="changeQty(1)">+</button>
                        </div>
                    </div>

                    <div class="action-grid mt-40">
                        <button type="submit" class="btn-add-vault">
                            <i class="fas fa-shopping-bag me-2"></i> ADD TO VAULT
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
    
    .product-container { max-width: 1100px; margin: 40px auto; padding: 20px; }
    .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: start; }

    /* Glass Cards */
    .main-card-glass, .info-content-glass { 
        background: #0d0d0d; 
        border: 2px solid #1a1a1a; 
        border-radius: 20px; 
        padding: 30px; 
        min-height: 500px; 
    }

    /* Hero Image Container (Fixes the large image issue) */
    .hero-img-container {
        height: 350px; /* Isse zyada badi nahi hogi image */
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        margin-top: 20px;
    }
    .shoe-img-hero { 
        max-width: 100%; 
        max-height: 100%; 
        object-fit: contain; 
        filter: drop-shadow(0 15px 30px rgba(0,0,0,0.8));
    }

    /* Size Options Styling */
    .size-options-grid { display: flex; flex-wrap: wrap; gap: 10px; }
    .size-pill input { display: none; } 
    .pill-design { 
        background: #000; border: 2px solid #333; 
        width: 50px; height: 50px; 
        display: flex; align-items: center; justify-content: center;
        border-radius: 10px; cursor: pointer; transition: 0.3s;
    }
    .size-val-bold { color: #ffffff; font-size: 1.1rem; font-weight: 800; }
    
    .size-pill input:checked + .pill-design {
        background: #00d4ff; border-color: #00d4ff;
        box-shadow: 0 0 15px rgba(0, 212, 255, 0.5);
    }
    .size-pill input:checked + .pill-design .size-val-bold { color: #000; }

    /* Typography */
    .shoe-name-bold { font-size: 2.2rem; font-weight: 900; line-height: 1.1; margin-bottom: 5px; color: #fff; }
    .price-tag-large { font-size: 2.5rem; font-weight: 900; color: #00d4ff; }
    .brand-tag { background: #00d4ff; color: #000; padding: 4px 12px; border-radius: 50px; font-weight: 900; font-size: 10px; margin-bottom: 10px; display: inline-block; }
    .divider { border-color: #222; margin: 20px 0; }

    /* Quantity Styling */
    .qty-input-box { display: flex; align-items: center; background: #000; border: 2px solid #222; width: fit-content; border-radius: 10px; }
    .qty-control { background: none; border: none; color: #00d4ff; padding: 5px 15px; cursor: pointer; font-size: 1.2rem; font-weight: bold; }
    #shoeQty { background: none; border: none; color: white; width: 40px; text-align: center; font-weight: 800; font-size: 1rem; }

    /* Action Button */
    .btn-add-vault { 
        width: 100%; background: #00d4ff; color: #000; border: none; 
        padding: 15px; border-radius: 12px; font-weight: 900; font-size: 1rem;
        cursor: pointer; transition: 0.3s;
    }
    .btn-add-vault:hover { background: #00b8e6; transform: translateY(-2px); }

    .selection-label { font-size: 0.75rem; letter-spacing: 1.5px; color: #555; font-weight: 800; margin-bottom: 10px; }
    .neon-blue { color: #00d4ff; }
    .mt-30 { margin-top: 30px; }
    .mt-40 { margin-top: 40px; }

    /* Responsive */
    @media (max-width: 768px) {
        .product-grid { grid-template-columns: 1fr; }
        .main-card-glass, .info-content-glass { min-height: auto; }
        .hero-img-container { height: 280px; }
    }
</style>

<script>
    function changeQty(val) {
        let input = document.getElementById('shoeQty');
        let current = parseInt(input.value);
        if (current + val >= 1) {
            input.value = current + val;
        }
    }
</script>

{% endblock %}